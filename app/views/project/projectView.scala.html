@(project : Project, user : User)

@style={
    <link rel="stylesheet" type="text/css" href="@routes.Assets.at("plugins/jquery-superbox/css/style.css")">
    <link href="@routes.Assets.at("plugins/pace/pace-theme-flash.css")" rel="stylesheet" type="text/css" media="screen"/>
    <link href="@routes.Assets.at("plugins/gritter/css/jquery.gritter.css")" rel="stylesheet" type="text/css" media="screen"/>
    <link href="@routes.Assets.at("plugins/jquery-slider/css/jquery.sidr.light.css")" rel="stylesheet" type="text/css" media="screen"/>

}
@scripts={
    <script src="@routes.Assets.at("plugins/jquery-superbox/js/superbox.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("js/tabs_accordian.js")" type="text/javascript" rel="script"></script>
    <script src="@routes.Assets.at("js/my_js/projectView.js")" type="text/javascript" rel="script"></script>
    @*<script>*@
    @*function submitComment() {*@
    @*jQuery.ajax({*@
    @*url: '/secured/comment_ajax',*@
    @*type: 'post',*@
    @*data: {*@
    @*projectId: ${requestScope.project.id},*@
    @*comment: $("#comment").val()*@
    @*}*@
    @*}).done(*@
    @*function (resp) {*@

    @*$("#template-comment-row > h6").html("${requestScope.aquser.userName}");*@
    @*$("#template-comment-row > p").html($("#comment").val());*@
    @*var newRow = $("#template-comment-row").clone();*@
    @*$("#comment-wrapper").append(newRow);*@
    @*newRow.toggle(true);*@
    @*$("#comment").val("");*@
    @*});*@
    @*}*@

    @*function submitPledge() {*@
    @*jQuery.ajax({*@
    @*url: '/secured/pledge',*@
    @*type: 'post',*@
    @*data: {*@
    @*projectId: ${requestScope.project.id},*@
    @*pledge: $("#pledge").val()*@
    @*}*@
    @*}).done(function (resp) {*@
    @*$("#close-pledge-modal").click();*@

    @*})*@
    @*}*@

    @*function follow(followButton) {*@
    @*jQuery.ajax({*@
    @*url: '/secured/pfollow',*@
    @*type: 'post',*@
    @*data: {*@
    @*projectId: ${requestScope.project.id}*@
    @*}*@
    @*}).done(function () {*@
    @*$(followButton).html(function () {*@
    @*return "FOLLOWING";*@
    @*})*@
    @*})*@

    @*}*@
    @*</script>*@

}

@nav(project.getName,user, style,scripts){

    <div class="row">
            <!--TAB SELECTOR-->
        <ul class="nav nav-tabs" id="tab-01">
            <li class="active"><a href="#info">INFO</a></li>
            <li class=""><a href="#faq">FAQ</a></li>
            <li class=""><a href="#updates">Updates</a></li>
            <li class=""><a href="#comments-tab">Comments</a></li>
        </ul>
            <!--TAB UTILS-->
        <div class="tools">
            <a href="javascript:;" class="collapse"></a>
            <a href="#grid-config" data-toggle="modal" class="config"></a>
            <a href="javascript:;" class="reload"></a>
            <a href="javascript:;" class="remove"></a>
        </div>
            <!--TAB CONTENTS-->
        <div class="tab-content">
                <!--INFO-->
            <div class="tab-pane active" id="info">
                <div class="row">
                    <div class="col-md-8">
                        <h2 class="project-title">@project.getName </h2>
                        <h4>@user.getEmail</h4>

                        <p style="text-align: justify">@project.getDescription</p>
                    </div>
                    <div class="col-md-4" style="border-radius: 5px; background-color: lightgray; text-align: right">
                        <h3><span style="color:#0aa699" id="fundsraised">@project.getFundsRaised</span>
                            FUNDS</h3>

                        <h3><span style="color:#0aa699">@project.getObjective</span> OBJECTIVE</h3>

                        <h3><span style="color:#0aa699">@project.getFollowersQty</span> FOLLOWERS</h3>

                        <h3><span style="color:#0aa699">@project.getDaysRemaining</span> DAYS REMAINING
                        </h3>
                    </div>
                </div>

                <hr>
                @Html.apply(project.getHtml)
            </div>
                <!--FAQ-->
            <div class="tab-pane" id="faq">
                <br>
                <br>
            </div>
                <!--UPDATES-->
            <div class="tab-pane" id="updates">
                <br>
                <br>
            </div>
                <!--COMMENTS-->
            <div class="tab-pane" id="comments-tab">
                <div id="comment-wrapper">
                    @for(comment : Comment <- project.getComments){
                        <div class="row" style="padding-left: 20px">
                            <h6>@comment.getUser.getUsername</h6>
                            <p>@comment.getComment</p>
                        </div>
                    }
                </div>
                    <div class="col-md-12 no-padding">
                        <input type="text" class="hidden" id="userId" value="@user.getId">
                        <input type="text" class="hidden" id="projectId" value="@project.getId">
                        <div class="tiles white">
                            <textarea rows="3" id="comment" class="form-control user-status-box post-input"
                            placeholder="Comment"
                            style="margin: 0px -10.5px 0px 0px; height: 84px; width: 648px; width: 100%; background-color: #eaeaea"></textarea>
                        </div>
                        <div class="tiles grey padding-10">
                            <div class="pull-right">
                                <button onclick="submitComment();" class="btn btn-primary btn-sm btn-small" type="button">
                                    POST
                                </button>

                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            @if(project.getUser.getEmail != user.getEmail){
                <button type="button" class="btn btn-warning btn-cons" style="width: 100%; height: 35px" data-toggle="modal"
                data-target="#donateModal">Donate</button>
            }
        </div>
        <div class="col-md-6">
            @if(project.getUser.getEmail == user.getEmail){
                <a href="/project/edit/@project.getId" type="button" class="btn btn-success btn-cons" style="width: 100%; height: 35px; font-size: 35px">Edit</a>
            }
            @if((project.getUser.getEmail != user.getEmail) && !(project.isFollowedBy(user))){
                <button type="button" class="btn btn-success btn-cons" style="width: 100%; height: 35px" onclick="follow(this);">Follow</button>
            }
        </div>
    </div>

    <!--PLEDGE MODAL START-->
    <div class="modal fade" id="donateModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
    style="display: none; margin-top: 80px; border: none">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                    DONATE
                </div>
                <div class="modal-body">
                    <div class="row form-row">
                        AMOUNT<input type="number" class="form-control" id="pledge">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" id="close-pledge-modal">Close
                    </button>
                    <button type="button" class="btn btn-primary" onclick="submitPledge();">Donate</button>
                </div>
            </div>
                <!-- /.modal-content -->
        </div>
            <!-- /.modal-dialog -->
    </div>
    <!--PLEDGE MODAL END-->

    <!--Images start-->
    @*<%--<div class="superbox">--%>*@
        @*<%--<c:forEach var="image" items="${requestScope.project.images}">--%>*@
        @*<%--<div class="superbox-list">--%>*@
        @*<%--<img src="${image.path}" class="superbox-img">--%>*@
        @*<%--</div>--%>*@
        @*<%--</c:forEach>--%>*@
        @*<%--<div class="superbox-float"></div>--%>*@
        @*<%--</div>--%>*@
    <!--Images end-->

    <!--TEMPLATE COMMENT ROW-->
    <div class="row" id="template-comment-row" style="display: none; padding-left: 20px">
        <h6 class="comment-user"></h6>

        <p class="comment-message"></p>
    </div>
}